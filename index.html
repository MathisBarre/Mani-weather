<!DOCTYPE html>
<html lang="fr">

<head>
   <meta charset="UTF-8">
   <meta http-equiv="X-UA-Compatible" content="ie=edge">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">

   <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
      integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
   <link rel="stylesheet" href="assets/css/style.css">

   <title>ManiMétéo</title>
</head>

<body>
   <div class="mask"></div>

   <div class="searchBox">
      <form id="form">
         <label for="searchBar">Entrer le nom de la ville / du village</label><br>
         <div class="searchBarWrapper">
            <input type="search" placeholder="Paris" id="searchBar">
            <input type="submit" value="Rechercher" id="searchBtn">
         </div>
      </form>
   </div>

   <main style="display: none">
      <div class="row">
         <div class="location">
            <header class="headerLocation">
               <img src="assets/img/home-address.svg" alt="Logo représentant une maison" id="locationImg">
               <div>
                  <h2 id="locationH2">{{ data.city_info. }}</h2>
                  <p id="location_subH2">Altitude : {{ data.city_info.elevation }}m</p>
               </div>
            </header>

            <iframe id="map" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
               src="https://www.openstreetmap.org/export/embed.html?bbox=-0.4006576538085938%2C47.29349337407018%2C-0.2873611450195313%2C47.34876782891704&amp;layer=mapnik&amp;marker=47.321137830234896%2C-0.3440093994140625"></iframe>
            <p id="mapInfos">
               <span class="location_lat">Latitude : {{ data.city_info.latitude }}</span>
               <span class="location_lon">Longitude : {{ data.city_info.longitude }}</span>
            </p>

         </div>

         <div class="actualWeatherWrapper">
            <h2>Actuellement</h2>
            <div class="actualWeather">


               <div id="weatherAndTemperatureWrapper">
                  <div class="weather">
                     <img src="assets/img/ensoleille-big.png" alt="Représentation imagée de la météo">
                     <p class="temps_text">{{ data.forecast_info.condition }}</p>
                  </div>
                  <div class="temperature">
                     <img src="assets/img/hot.svg" alt="Représentation d'un thermomètre">
                     <p class="temperature_text">{{ data.forecast_info.tmp }}°C</p>
                  </div>
               </div>

               <div class="wind_wrapper">
                  <img src="assets/img/wind.svg" alt="Image représentant le vent">
                  <div id="wind_infos">
                     <p><strong>Direction : </strong>{{ data.forecast_info.wnd_dir }}</p>
                     <p><strong>Vitesse : </strong>{{ data.forecast_info.wnd_speed }} km/h</p>
                     <p><strong>Rafales : </strong>{{ data.forecast_info.wnd_gust }} km/h</p>
                  </div>
               </div>

            </div>
         </div>
      </div>

      <div class="forecasts">
         <h2>Prévisions</h2>
         <h3>Aujourd'hui</h3>
         <canvas id="myChart" width="400" height="200"></canvas>
      </div>

      <footer>
         <a href="https://www.prevision-meteo.ch">Prévisions par www.prevision-meteo.ch</a>
      </footer>
   </main>


   <div class="loading" style="display: none">
      Chargement des données
      <div class="lds-ring">
         <div></div>
         <div></div>
         <div></div>
         <div></div>
      </div>
   </div>


   <div class="error" style="display: none" data-error="Erreur">
      <p>Erreur : veuillez recharger la page et réessayer</p>
   </div>

   <div class="nofetch" style="display: none">
      <p>Navigateur inadapté : l'application de fonctionnera pas correctement</p>
   </div>

   <noscript>
      <div class="noscript">
         <p>Javascript désactivé : l'application de fonctionnera pas correctement</p>
      </div>
   </noscript>


   <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0/dist/Chart.min.js"></script>
   <script src="assets/js/ejs.js"></script>
   <script src="assets/js/app.js"></script>
</body>

</html>